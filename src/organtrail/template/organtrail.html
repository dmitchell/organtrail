<!-- Base file for project -->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Organ Trail</title>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
	<script type="text/javascript" src="/static/js/underscore-min.js"></script>
	<script type="text/javascript" src="/static/js/backbone-min.js"></script>
	<script type="text/javascript" src="/static/js/recipient.js"></script>
	<script type="text/javascript" src="/static/js/doctors.js"></script>

    <!-- Bootstrap -->
    <link href="/static/css/bootstrap.css" rel="stylesheet" media="screen">
    <script src="/static/js/bootstrap.js"></script>
    <script type="text/javascript">
   //  $(window).load(function(){
//         $('#introModal').modal('show');
//     });
    $(window).load(function(){
        $('#doctorModal').modal('show');
    });
    $(document).ready(function(){
    	window.recipients = new Recipients({% autoescape off %} {{recipients}} {% endautoescape %});
    	window.recipientTable = new RecipientCollectionView({
    		el : $("#patient-list"),
    		collection : window.recipients
    	});
    	window.recipientTable.render();
    	$("#player-name").html(window.recipients.get(window.currentPlayer).get("name"));
		$("#player-doctor").html(window.recipients.get(window.currentPlayer).get("doctor"));
		$("#player-money").html(window.recipients.get(window.currentPlayer).get("money"));
    
    // Doctor render for doctor selection modal.
    	window.doctors = new Doctors([{
    		id : 1,
    		name : "Gregory House",
    		waitTime : 7,
    		description : "The best doctor available. Extremely busy and expensive.",
			rating : 80,
			cost : 500,
    	},
    	{
    		id : 2,
    		name : "Nick Riviera",
    		waitTime : 1,
    		description : "Well... He's *technically* a doctor...",
			rating : 20,
			cost : 100,
    	}]);
    	window.doctorTable = new DoctorCollectionView({
    		el : $("#doctor-list"),
    		collection : window.doctors
    	});
    	window.doctorTable.render();
    });
 	window.currentPlayer = {{player}}; // which id from the recipient table is this player?
</script>
</head>

<body>

<!-- Instructions Modal -->
<div class="modal hide fade" id="introModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Welcome to Organ Trail</h3>
  </div>
  <div class="modal-body">
    <p>You are a patient on the waiting list for an organ transplant. There are only two things you can try to influence: you can look for ways to bump your position up on the list, or you can try and increase the existing donor pool so more organs are available for donation. Any actions you take, however, will cost you resources such as time and money - none of which you have much of. Will you be able to receive an organ before your own countdown timer expires?</p>
    
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>
 
 <!-- Doctor Modal -->
 <div class="modal hide fade" id="doctorModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Select a doctor</h3>
  </div>
  <div class="modal-body">
    <p>Some doctors might be able to push your treatment faster, but they will also have longer waiting times and be more expensive. You can switch doctors later, but you will have to wait a few days until they can see you.</p>
    
    <div id="doctor-list">
  	</div>
</div>
</div>

<!-- Externality Modals -->
<div class="modal hide fade" id="traincrashModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/traincrash.jpg"></p>
    <p>An unfortunate accident yesterday has resulted in the unexpected death of hundreds of people.</p>
  </div>
</div>

<div class="modal hide fade" id="newsitemModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/newsitem.jpg"></p>
    <p>A recently published news article highlighting the plight of waitlisted patients has resulted in increased numbers of people registering as organ donors.</p>
  </div>
</div>

<div class="modal hide fade" id="mafiabustModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/mafiabust.jpg"></p>
    <p>A recent police investigation has uncovered an organ trafficking ring and people buying their way up the organ waitlist. As a result, there number of people registering as donors has shrunk.</p>
  </div>
</div>

<div class="modal hide fade" id="extremeweatherModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/extremeweather.jpg"></p>
    <p>Extreme weather conditions throughout last season resulted in an increased number of deaths.</p>
  </div>
</div>

<div class="modal hide fade" id="stemcellsModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/stemcells.jpg"></p>
    <p>Recent research with stem cell therapies has increased the available number of organs for patients waiting for a transplant.</p>
  </div>
</div>

<div class="modal hide fade" id="newdoctorModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>This just in...</h3>
  </div>
  <div class="modal-body">
    <p class="pagination-centered"><img src="/static/img/newdoctor.jpg"></p>
    <p>The recent hiring of a new doctor in the area has expanded options for quality treatment.</p>
  </div>
</div>

<!-- Mechanics Modals -->
<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p><img class="mechanic-button pull-left" src="../static/img/checkup.png">If you get a check-up, your doctor might find your condition has worsened, decreasing your life expectancy but bumping you up the waiting list for a transplant. You'll have to wait a few days for an appointment and pay some money for tests.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
    <a href="#" class="btn-primary" data-dismiss="modal">Get a Check Up</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="modal hide fade" id="checkupModal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Get a Check-Up</h3>
  </div>
  <div class="modal-body">
    <p>Organ Trail is designed to convey the anxieties of being an organ recipient, as well as the complexity of the organ donation system: specifically, how the whole system is built on a system of fragile public trust, and how events in the world can sway public opinion in life-changing ways for many people.</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<!-- Main Interface -->

	<div class="container">
		<div class="navbar navbar-inverse navbar-fixe-top">
		  <div class="navbar-inner">
			<a class="brand" href="#">Organ Trail</a>
			<ul class="nav pull-right">
			  <li><a href="#introModal" data-toggle="modal">About</a></li>
			</ul>
		  </div>
		</div>
				
		<div class="row">
		<!--
    	<div class="span1"> <!-- Left Sidebar --><!--
    		<p>Hello World</p>
    	</div>
		-->
    	
    	<div class="span8"> <!-- Main Content Area -->
    		<!-- 
<div class="row">
    			<div class="span8"> 
    				<h4>Patient List</h4>
    				<table class="table table-striped table-bordered table-hover table-condensed patient-list">
    					<thead><tr>
    						<th>Pos</th>
    						<th>Name</th>
    						<th>TTL</th>
    					</tr></thead>
    					<tbody id="patient-list">
    					</tbody>
    				</table>
    			</div>
    		</div>
 -->
    		
    		<div class="row">
			<div class="span8">
				<table class="table">
					<tr>
						<td id="player-name">&nbsp</td>
						<td id="player-doctor">&nbsp</td>
						<td>Disease Condition</td>
						<td id="player-money">&nbsp</td>
					</tr>
				</table>
				<hr>
			</div>
			</div>
    		
    		<div class="row">
    			<div class="span6">
    				<h3>What would you like to do next?</h3>
    			</div>
    		<div class="row">
    			<div class="span8 mechanics-list">
    				<div class="row">
    					<div class="span2">
    						<a href="#" rel="tooltip" title="first tooltip"><img class="mechanic-button" src="../static/img/checkup.png"></a>
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/donation.png">    						
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/doctor.png">
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/coverage.png">
    					</div>
    				</div>
    				<div class="row">
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/experimental.png">    					
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/homeopathy.png">
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/travel.png">    					
    					</div>
    					<div class="span2">
    						<img class="mechanic-button" src="../static/img/illegal.png">
    					</div>
    				</div>
    				<a href="#traincrashModal" data-toggle="modal">Train Crash Modal</a>
    				<a href="#newsitemModal" data-toggle="modal">News Item Modal</a>
    				<a href="#mafiabustModal" data-toggle="modal">Mafia Bust Modal</a>
    				<a href="#extremeweatherModal" data-toggle="modal">Extreme Weather Modal</a>
    				<a href="#stemcellsModal" data-toggle="modal">Stem Cells Modal</a>
    				<a href="#newdoctorModal" data-toggle="modal">New Doctor Modal</a>
    			</div>
    		</div>
    	</div>
    	</div>
    	
    	<div class="span4"> <!-- Right Sidebar -->
    		<div class="row">
    			<div class="span4"> <!-- Recipient List -->
    				<h4>Patient List</h4>
    				<table class="table table-striped table-bordered table-hover table-condensed patient-list">
    					<thead><tr>
    						<th>Pos</th>
    						<th>Name</th>
    						<th>TTL</th>
    					</tr></thead>
    					<tbody id="patient-list">
    					</tbody>
    				</table>
    			</div>
    		</div>
    		<div class="row">
    			<div class="span4"> <!-- Calendar -->
    				<h4>Life Expectancy</h4>
    				<table class="table table-bordered table-condensed">
    					<tr><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
    					<tr><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td></tr>
    					<tr><td>13</td><td>14</td><td>15</td><td>16</td><td>17</td><td>18</td></tr>
    					<tr><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td><td>24</td></tr>
    					<tr><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td></tr>
    					<tr></tr>
    				</table>
    			</div>
    		</div>
    		<div class="row">
    			<div class="span4"> <!-- Donor Pool -->
    				<h4>Donor Pool</h4>
    				<div class="progress progress-striped active">
  						<div class="bar" style="width: 20%;">20%</div>
					</div>
				</div>
			</div>
    	</div>
    	</div>
    	
    	<!-- 
<div class="navbar navbar-inverse navbar-fixed-bottom">
		  <div class="navbar-inner">
			<ul class="nav">
			  <li class="navbar-text">Patient Name</li>
			  <li class="navbar-text">Doctor Name</li>
			  <li class="navbar-text">Disease Severity</li>
			  <li class="navbar-text">$XXX</li>
			</ul>
		  </div>
		</div>
 -->
    	
    </div>
</body>
</html>